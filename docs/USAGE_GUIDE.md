# 服务器管理系统 - 使用指南

## 功能介绍

### 1. 服务器管理

#### 添加服务器
1. 点击页面中的「**+ 添加服务器**」按钮
2. 填写服务器信息：
   - **服务器名称**（必填）：给服务器取一个易识别的名字
   - **主机地址**（必填）：服务器的 IP 地址或域名
   - **端口**：服务器监听的端口号（默认 5000）
   - **用户名**：连接服务器的用户名（可选）
   - **密码**：连接服务器的密码（可选）
   - **描述**：服务器的备注信息（可选）
3. 点击「添加」按钮提交

#### 查看服务器列表
- 服务器管理页面自动显示所有已添加的服务器
- 每个服务器卡片显示：
  - 服务器名称和状态标签
  - 主机地址和端口
  - 用户名和描述
  - 创建时间

#### 测试连接
1. 在服务器卡片上点击「**测试连接**」按钮
2. 系统会尝试连接到该服务器
3. 连接成功时，服务器状态自动更新为"在线"
4. 连接失败时会显示错误提示

#### 编辑服务器
1. 在服务器卡片上点击「**编辑**」按钮
2. 在弹出的编辑框中修改服务器信息
3. 点击「保存」按钮提交修改

#### 删除服务器
1. 在服务器卡片上点击「**删除**」按钮
2. 确认删除操作
3. 服务器被从系统中删除

#### 自动刷新
- 服务器列表每 10 秒自动刷新一次
- 可点击「**刷新**」按钮手动刷新

### 2. 实时监控

#### 首页快速查看
- 显示当前系统的 CPU、内存、磁盘使用率
- 显示运行中的进程数量
- 快速了解系统状态

#### 仪表板
- CPU 使用率动态圆形图表
- 内存使用情况圆形图表
- 详细的系统统计信息
- 包括 CPU 核心数、内存总量、磁盘信息等

### 3. 进程管理

#### 查看进程
- 显示系统运行中的前 20 个进程
- 显示进程 ID、名称、CPU 占用率、内存占用率

#### 排序方式
- 可按内存占用率排序（默认）
- 可按 CPU 占用率排序
- 在「排序方式」下拉框中选择

#### 终止进程
1. 找到要终止的进程
2. 点击该行的「**终止**」按钮
3. 确认终止操作
4. 进程被立即终止

### 4. 网络监控

#### 网络接口
- 显示系统的所有网络接口
- 显示接口状态（在线/离线）
- 显示 IP 地址和子网掩码
- 显示 MTU 值

#### 网络统计
- 发送字节数和接收字节数
- 发送数据包和接收数据包数量
- 错误统计信息

## API 文档

### 服务器管理接口

#### 获取所有服务器
```
GET /api/servers
```

**响应示例：**
```json
{
  "status": "success",
  "data": [
    {
      "id": 1,
      "name": "生产服务器",
      "host": "192.168.1.100",
      "port": 5000,
      "username": "admin",
      "description": "主要业务服务器",
      "status": "online",
      "created_at": "2026-02-07 10:30:00"
    }
  ]
}
```

#### 添加服务器
```
POST /api/servers
Content-Type: application/json

{
  "name": "测试服务器",
  "host": "192.168.1.101",
  "port": 5000,
  "username": "test",
  "password": "password",
  "description": "测试用服务器"
}
```

**响应示例：**
```json
{
  "status": "success",
  "message": "服务器添加成功",
  "data": {
    "id": 2
  }
}
```

#### 获取服务器详情
```
GET /api/servers/1
```

#### 更新服务器
```
PUT /api/servers/1
Content-Type: application/json

{
  "name": "新名称",
  "host": "192.168.1.102",
  "description": "更新的描述"
}
```

#### 删除服务器
```
DELETE /api/servers/1
```

#### 测试连接
```
POST /api/servers/1/test
```

**响应示例：**
```json
{
  "status": "success",
  "message": "服务器连接成功",
  "server_status": "online"
}
```

## 常见问题

### Q: 如何添加多个服务器？
A: 点击「+ 添加服务器」按钮，填写每个服务器的信息即可。系统支持添加无限数量的服务器。

### Q: 服务器信息会保存吗？
A: 是的，所有服务器信息都保存在本地 SQLite 数据库中（`servers.db`），重启应用后数据依然存在。

### Q: 如何修改已添加的服务器信息？
A: 点击服务器卡片上的「编辑」按钮，在弹出窗口中修改信息后保存。

### Q: 测试连接失败是什么原因？
A: 可能原因包括：
- 主机地址或端口号错误
- 服务器未启动
- 网络连接问题
- 防火墙阻止

### Q: 如何查看系统实时监控数据？
A: 在「仪表板」页面可以看到 CPU 和内存的实时数据，在「进程管理」页面可以查看进程信息。

### Q: 进程可以终止吗？
A: 可以。在「进程管理」页面，找到要终止的进程，点击「终止」按钮即可。

## 技术信息

### 数据存储
- 所有服务器信息存储在 `servers.db` SQLite 数据库
- 每个服务器记录包括：
  - ID（自增主键）
  - 名称（唯一性约束）
  - 主机地址
  - 端口号
  - 用户名
  - 密码
  - 描述
  - 连接状态
  - 创建时间和更新时间

### 刷新机制
- 自动刷新间隔：10 秒
- 手动刷新：点击「刷新」按钮
- 后端实时采集系统数据

## 注意事项

1. **密码安全**：系统不对密码进行加密存储，仅为文本存储。生产环境建议使用密钥认证。
2. **数据备份**：定期备份 `servers.db` 文件以防数据丢失。
3. **防火墙**：确保防火墙允许到服务器的连接。
4. **网络连接**：测试连接需要与服务器的网络连接正常。

## 后续功能

- 服务部署管理
- 程序启动/停止控制
- 日志查看和分析
- 告警和通知
- 用户认证和权限管理
- 数据备份和恢复
